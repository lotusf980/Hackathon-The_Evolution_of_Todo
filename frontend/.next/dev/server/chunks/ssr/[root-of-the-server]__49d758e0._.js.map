{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Hackathon/The_Evolution_of_Todo/frontend/src/lib/auth.ts"],"sourcesContent":["// Frontend authentication utilities for handling JWT tokens\nimport { jwtDecode } from 'jwt-decode';\n\nexport interface User {\n  id: string;\n  email: string;\n  name: string;\n  created_at: string;\n}\n\nexport interface TokenPayload {\n  sub: string;\n  exp: number;\n  iat: number;\n  jti: string;\n}\n\n/**\n * Store JWT token in localStorage\n * @param token JWT token string\n */\nexport function setAuthToken(token: string): void {\n  // Store the token in localStorage\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('auth_token', token);\n  }\n}\n\n/**\n * Get JWT token from localStorage\n * @returns JWT token string or null if not found\n */\nexport function getAuthToken(): string | null {\n  // Retrieve the token from localStorage\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem('auth_token');\n  }\n\n  return null;\n}\n\n/**\n * Remove JWT token from storage\n */\nexport function removeAuthToken(): void {\n  // In a real implementation, you would remove the token securely\n  document.cookie = 'auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n}\n\n/**\n * Check if token is expired\n * @param token JWT token string\n * @returns boolean indicating if token is expired\n */\nexport function isTokenExpired(token: string): boolean {\n  try {\n    const decoded: TokenPayload = jwtDecode(token);\n    const currentTime = Math.floor(Date.now() / 1000);\n    return decoded.exp < currentTime;\n  } catch (error) {\n    console.error('Error decoding token:', error);\n    return true;\n  }\n}\n\n/**\n * Get current user from token\n * @returns User object or null if token is invalid/expired\n */\nexport function getCurrentUser(): User | null {\n  const token = getAuthToken();\n  if (!token || isTokenExpired(token)) {\n    return null;\n  }\n\n  try {\n    const decoded: TokenPayload = jwtDecode(token);\n    // In a real implementation, you would fetch user details from the backend\n    // This is a simplified version\n    return {\n      id: decoded.sub,\n      email: '', // Would come from backend in real implementation\n      name: '', // Would come from backend in real implementation\n      created_at: '' // Would come from backend in real implementation\n    };\n  } catch (error) {\n    console.error('Error getting current user:', error);\n    return null;\n  }\n}\n\n/**\n * Check if user is authenticated\n * @returns boolean indicating if user is authenticated\n */\nexport function isAuthenticated(): boolean {\n  const token = getAuthToken();\n  return token !== null && !isTokenExpired(token);\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,4DAA4D;AAC5D;;AAoBO,SAAS,aAAa,KAAa;IACxC,kCAAkC;IAClC;;AAGF;AAMO,SAAS;IACd,uCAAuC;IACvC;;IAIA,OAAO;AACT;AAKO,SAAS;IACd,gEAAgE;IAChE,SAAS,MAAM,GAAG;AACpB;AAOO,SAAS,eAAe,KAAa;IAC1C,IAAI;QACF,MAAM,UAAwB,IAAA,mKAAS,EAAC;QACxC,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;QAC5C,OAAO,QAAQ,GAAG,GAAG;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;IACT;AACF;AAMO,SAAS;IACd,MAAM,QAAQ;IACd,IAAI,CAAC,SAAS,eAAe,QAAQ;QACnC,OAAO;IACT;IAEA,IAAI;QACF,MAAM,UAAwB,IAAA,mKAAS,EAAC;QACxC,0EAA0E;QAC1E,+BAA+B;QAC/B,OAAO;YACL,IAAI,QAAQ,GAAG;YACf,OAAO;YACP,MAAM;YACN,YAAY,GAAG,iDAAiD;QAClE;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;IACT;AACF;AAMO,SAAS;IACd,MAAM,QAAQ;IACd,OAAO,UAAU,QAAQ,CAAC,eAAe;AAC3C"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Hackathon/The_Evolution_of_Todo/frontend/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { isAuthenticated, getCurrentUser, removeAuthToken } from '@/lib/auth';\n\nconst Navbar: React.FC = () => {\n  const pathname = usePathname();\n  const currentUser = getCurrentUser();\n  const authenticated = isAuthenticated();\n\n  const handleLogout = () => {\n    removeAuthToken();\n    window.location.href = '/login'; // Redirect to login after logout\n  };\n\n  return (\n    <nav className=\"bg-blue-600 text-white shadow-md\">\n      <div className=\"container mx-auto px-4 py-3\">\n        <div className=\"flex justify-between items-center\">\n          <div className=\"text-xl font-bold\">\n            <Link href=\"/\">Todo App</Link>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            {!authenticated ? (\n              <>\n                {pathname !== '/login' && (\n                  <Link href=\"/login\" className=\"hover:underline\">\n                    Login\n                  </Link>\n                )}\n                {pathname !== '/register' && (\n                  <Link href=\"/register\" className=\"hover:underline\">\n                    Register\n                  </Link>\n                )}\n              </>\n            ) : (\n              <>\n                <span className=\"hidden md:inline\">Hello, {currentUser?.name || currentUser?.email}</span>\n                <Link href=\"/dashboard\" className=\"hover:underline\">\n                  Dashboard\n                </Link>\n                <button\n                  onClick={handleLogout}\n                  className=\"ml-4 px-3 py-1 bg-red-500 hover:bg-red-600 rounded-md\"\n                >\n                  Logout\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAOA,MAAM,SAAmB;IACvB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,cAAc,IAAA,oIAAc;IAClC,MAAM,gBAAgB,IAAA,qIAAe;IAErC,MAAM,eAAe;QACnB,IAAA,qIAAe;QACf,OAAO,QAAQ,CAAC,IAAI,GAAG,UAAU,iCAAiC;IACpE;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,uKAAI;4BAAC,MAAK;sCAAI;;;;;;;;;;;kCAGjB,8OAAC;wBAAI,WAAU;kCACZ,CAAC,8BACA;;gCACG,aAAa,0BACZ,8OAAC,uKAAI;oCAAC,MAAK;oCAAS,WAAU;8CAAkB;;;;;;gCAIjD,aAAa,6BACZ,8OAAC,uKAAI;oCAAC,MAAK;oCAAY,WAAU;8CAAkB;;;;;;;yDAMvD;;8CACE,8OAAC;oCAAK,WAAU;;wCAAmB;wCAAQ,aAAa,QAAQ,aAAa;;;;;;;8CAC7E,8OAAC,uKAAI;oCAAC,MAAK;oCAAa,WAAU;8CAAkB;;;;;;8CAGpD,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB;uCAEe"}}]
}