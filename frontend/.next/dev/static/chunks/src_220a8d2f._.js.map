{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Hackathon/The_Evolution_of_Todo/frontend/src/lib/api.ts"],"sourcesContent":["// API client for interacting with the backend\nimport { TaskCreate, TaskUpdate, TaskPatch, User } from '@/types'; // Adjust path as needed\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8000';\n\n/**\n * Generic API request function\n * @param endpoint API endpoint path\n * @param options Request options\n * @returns Promise with response data\n */\nasync function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const url = `${API_BASE_URL}${endpoint}`;\n\n  const config: RequestInit = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...(options.headers || {}),\n    },\n    ...options,\n  };\n\n  // Add auth token if available\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n      config.headers = {\n        ...config.headers,\n        Authorization: `Bearer ${token}`,\n      };\n    }\n  }\n\n  const response = await fetch(url, config);\n\n  if (!response.ok) {\n    const errorData = await response.text();\n    throw new Error(errorData || `HTTP error! status: ${response.status}`);\n  }\n\n  // Handle responses that don't have JSON bodies (like DELETE)\n  if (response.status === 204 || response.headers.get('content-length') === '0') {\n    return {} as T;\n  }\n\n  return response.json();\n}\n\n/**\n * AUTHENTICATION API\n */\n\n/**\n * Register a new user\n * @param userData User registration data\n * @returns Promise with created user data\n */\nexport async function registerUser(userData: {\n  email: string;\n  name: string;\n  password: string;\n}): Promise<User> {\n  return apiRequest<User>('/api/auth/register', {\n    method: 'POST',\n    body: JSON.stringify(userData),\n  });\n}\n\n/**\n * Login user\n * @param credentials User login credentials\n * @returns Promise with login response containing token\n */\nexport async function loginUser(credentials: {\n  email: string;\n  password: string;\n}): Promise<{ access_token: string; token_type: string; user: User }> {\n  return apiRequest('/api/auth/login', {\n    method: 'POST',\n    body: JSON.stringify(credentials),\n  });\n}\n\n/**\n * Logout user\n * @returns Promise indicating success\n */\nexport async function logoutUser(): Promise<void> {\n  await apiRequest('/api/auth/logout', {\n    method: 'POST',\n  });\n}\n\n/**\n * TASKS API\n */\n\n/**\n * Get all tasks for a user\n * @param userId User ID\n * @param params Query parameters (status, sort)\n * @returns Promise with array of tasks\n */\nexport async function getUserTasks(\n  userId: string,\n  params?: { status?: 'all' | 'pending' | 'completed'; sort?: 'created' | 'title' | 'due_date' }\n): Promise<{ tasks: any[]; count: number }> {\n  const queryParams = new URLSearchParams(params as any).toString();\n  const queryString = queryParams ? `?${queryParams}` : '';\n  return apiRequest(`/api/${userId}/tasks${queryString}`, {\n    method: 'GET',\n  });\n}\n\n/**\n * Create a new task for a user\n * @param userId User ID\n * @param taskData Task creation data\n * @returns Promise with created task\n */\nexport async function createTask(userId: string, taskData: TaskCreate): Promise<any> {\n  return apiRequest(`/api/${userId}/tasks`, {\n    method: 'POST',\n    body: JSON.stringify(taskData),\n  });\n}\n\n/**\n * Get a specific task\n * @param userId User ID\n * @param taskId Task ID\n * @returns Promise with task data\n */\nexport async function getTask(userId: string, taskId: number): Promise<any> {\n  return apiRequest(`/api/${userId}/tasks/${taskId}`, {\n    method: 'GET',\n  });\n}\n\n/**\n * Update a specific task\n * @param userId User ID\n * @param taskId Task ID\n * @param taskData Task update data\n * @returns Promise with updated task\n */\nexport async function updateTask(userId: string, taskId: number, taskData: TaskUpdate): Promise<any> {\n  return apiRequest(`/api/${userId}/tasks/${taskId}`, {\n    method: 'PUT',\n    body: JSON.stringify(taskData),\n  });\n}\n\n/**\n * Delete a specific task\n * @param userId User ID\n * @param taskId Task ID\n * @returns Promise indicating success\n */\nexport async function deleteTask(userId: string, taskId: number): Promise<{ message: string; deleted_task_id: number }> {\n  return apiRequest(`/api/${userId}/tasks/${taskId}`, {\n    method: 'DELETE',\n  });\n}\n\n/**\n * Toggle task completion status\n * @param userId User ID\n * @param taskId Task ID\n * @param completionData Task completion data\n * @returns Promise with updated task\n */\nexport async function toggleTaskCompletion(\n  userId: string,\n  taskId: number,\n  completionData: TaskPatch\n): Promise<any> {\n  return apiRequest(`/api/${userId}/tasks/${taskId}/complete`, {\n    method: 'PATCH',\n    body: JSON.stringify(completionData),\n  });\n}\n\n/**\n * GENERIC API UTILITIES\n */\n\n/**\n * Check if user is authenticated by making a test request\n * @returns Promise with authentication status\n */\nexport async function checkAuth(): Promise<boolean> {\n  try {\n    // This would be a protected endpoint that verifies the token\n    // For now we'll just return true if we have a token\n    if (typeof window !== 'undefined') {\n      const token = localStorage.getItem('auth_token');\n      return !!token;\n    }\n    return false;\n  } catch (error) {\n    console.error('Auth check failed:', error);\n    return false;\n  }\n}"],"names":[],"mappings":"AAAA,8CAA8C;;;;;;;;;;;;;;;;;;;;;;;AAGzB;AAArB,MAAM,eAAe,6DAAwC;AAE7D;;;;;CAKC,GACD,eAAe,WACb,QAAgB,EAChB,UAAuB,CAAC,CAAC;IAEzB,MAAM,MAAM,GAAG,eAAe,UAAU;IAExC,MAAM,SAAsB;QAC1B,SAAS;YACP,gBAAgB;YAChB,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;QAC3B;QACA,GAAG,OAAO;IACZ;IAEA,8BAA8B;IAC9B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,GAAG;gBACf,GAAG,OAAO,OAAO;gBACjB,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;IACF;IAEA,MAAM,WAAW,MAAM,MAAM,KAAK;IAElC,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,MAAM,IAAI,MAAM,aAAa,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;IACvE;IAEA,6DAA6D;IAC7D,IAAI,SAAS,MAAM,KAAK,OAAO,SAAS,OAAO,CAAC,GAAG,CAAC,sBAAsB,KAAK;QAC7E,OAAO,CAAC;IACV;IAEA,OAAO,SAAS,IAAI;AACtB;AAWO,eAAe,aAAa,QAIlC;IACC,OAAO,WAAiB,sBAAsB;QAC5C,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAOO,eAAe,UAAU,WAG/B;IACC,OAAO,WAAW,mBAAmB;QACnC,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAMO,eAAe;IACpB,MAAM,WAAW,oBAAoB;QACnC,QAAQ;IACV;AACF;AAYO,eAAe,aACpB,MAAc,EACd,MAA8F;IAE9F,MAAM,cAAc,IAAI,gBAAgB,QAAe,QAAQ;IAC/D,MAAM,cAAc,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG;IACtD,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,MAAM,EAAE,aAAa,EAAE;QACtD,QAAQ;IACV;AACF;AAQO,eAAe,WAAW,MAAc,EAAE,QAAoB;IACnE,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,MAAM,CAAC,EAAE;QACxC,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAQO,eAAe,QAAQ,MAAc,EAAE,MAAc;IAC1D,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,OAAO,EAAE,QAAQ,EAAE;QAClD,QAAQ;IACV;AACF;AASO,eAAe,WAAW,MAAc,EAAE,MAAc,EAAE,QAAoB;IACnF,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,OAAO,EAAE,QAAQ,EAAE;QAClD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAQO,eAAe,WAAW,MAAc,EAAE,MAAc;IAC7D,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,OAAO,EAAE,QAAQ,EAAE;QAClD,QAAQ;IACV;AACF;AASO,eAAe,qBACpB,MAAc,EACd,MAAc,EACd,cAAyB;IAEzB,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,OAAO,EAAE,OAAO,SAAS,CAAC,EAAE;QAC3D,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAUO,eAAe;IACpB,IAAI;QACF,6DAA6D;QAC7D,oDAAoD;QACpD,wCAAmC;YACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,OAAO,CAAC,CAAC;QACX;;;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO;IACT;AACF"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Hackathon/The_Evolution_of_Todo/frontend/src/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { loginUser, setAuthToken } from '@/lib/api';\n\nconst LoginPage: React.FC = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const router = useRouter();\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n\n    try {\n      const credentials = {\n        email: formData.email,\n        password: formData.password,\n      };\n\n      const response = await loginUser(credentials);\n\n      // Store the token\n      if (response.access_token) {\n        // In a real implementation, we would store the token securely\n        localStorage.setItem('auth_token', response.access_token);\n\n        // Redirect to dashboard after successful login\n        router.push('/dashboard');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n          Sign in to your account\n        </h2>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          {error && (\n            <div className=\"mb-4 text-red-600 bg-red-50 p-3 rounded-md\">\n              {error}\n            </div>\n          )}\n\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email address\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  autoComplete=\"current-password\"\n                  required\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm\">\n                <Link href=\"#\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                  Forgot your password?\n                </Link>\n              </div>\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${\n                  loading\n                    ? 'bg-blue-400 cursor-not-allowed'\n                    : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'\n                }`}\n              >\n                {loading ? 'Signing in...' : 'Sign in'}\n              </button>\n            </div>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Don't have an account?{' '}\n              <Link href=\"/register\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                Register\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,MAAM,YAAsB;;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,OAAO;QACP,UAAU;IACZ;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,cAAc;gBAClB,OAAO,SAAS,KAAK;gBACrB,UAAU,SAAS,QAAQ;YAC7B;YAEA,MAAM,WAAW,MAAM,IAAA,iIAAS,EAAC;YAEjC,kBAAkB;YAClB,IAAI,SAAS,YAAY,EAAE;gBACzB,8DAA8D;gBAC9D,aAAa,OAAO,CAAC,cAAc,SAAS,YAAY;gBAExD,+CAA+C;gBAC/C,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAyD;;;;;;;;;;;0BAKzE,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;wBACZ,uBACC,6LAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,6LAAC;4BAAK,WAAU;4BAAY,UAAU;;8CACpC,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAQ,WAAU;sDAA0C;;;;;;sDAG3E,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDACC,IAAG;gDACH,MAAK;gDACL,MAAK;gDACL,cAAa;gDACb,QAAQ;gDACR,OAAO,SAAS,KAAK;gDACrB,UAAU;gDACV,WAAU;;;;;;;;;;;;;;;;;8CAKhB,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAA0C;;;;;;sDAG9E,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDACC,IAAG;gDACH,MAAK;gDACL,MAAK;gDACL,cAAa;gDACb,QAAQ;gDACR,OAAO,SAAS,QAAQ;gDACxB,UAAU;gDACV,WAAU;;;;;;;;;;;;;;;;;8CAKhB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC,0KAAI;4CAAC,MAAK;4CAAI,WAAU;sDAAgD;;;;;;;;;;;;;;;;8CAM7E,6LAAC;8CACC,cAAA,6LAAC;wCACC,MAAK;wCACL,UAAU;wCACV,WAAW,CAAC,mHAAmH,EAC7H,UACI,mCACA,yGACJ;kDAED,UAAU,kBAAkB;;;;;;;;;;;;;;;;;sCAKnC,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;;oCAAwB;oCACZ;kDACvB,6LAAC,0KAAI;wCAAC,MAAK;wCAAY,WAAU;kDAAgD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS/F;GArIM;;QAOW,kJAAS;;;KAPpB;uCAuIS"}}]
}